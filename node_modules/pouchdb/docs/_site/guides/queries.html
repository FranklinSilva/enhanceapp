<!DOCTYPE html>
<html lang="en" manifest="/manifest.appcache">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Map/reduce queries</title>
    <link rel="alternate" title="PouchDB, the JavaScript Database that Syncs!" type="application/rss+xml" href="/feed.xml">
    <link rel="stylesheet" href="/static/css/pouchdb.css" />
    <meta name="theme-color" content="#6ccb99">
    <meta name="msapplication-TileColor" content="#6ccb99">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-42479701-1']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700|Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon"/>
  </head>

  <body data-spy="scroll" data-target="#sidebar">

    <header>

      <a href="https://github.com/pouchdb/pouchdb" target="_blank">
         <div class="ribbon">GitHub</div>
      </a>

      <div class="container">

        <a class="logo" href="/">
          <div class="logo-img"></div>
          <span class='logo-type'>PouchDB</span>
        </a>

        <ul class='nav nav-header nav-pills'>
          <li>
            <a class='btn btn-link btn-lg' href="/blog/">Blog</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/guides/">Guides</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/api.html">API</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/learn.html">Learn</a>
          </li>
          <li>
            <a
                class='btn btn-primary btn-lg'
                href="https://github.com/pouchdb/pouchdb/releases/download/3.5.0/pouchdb-3.5.0.min.js"
            >
                Download <strong>v3.5.0</strong>
            </a>
          </li>
        </ul>

      </div>

    </header>
    
      <div class="page-head">

        <div class="container">

          <h1>Map/reduce queries</h1>
          

        </div>

      </div>
    


    <article>
  <div class="container">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
          <div data-spy="affix" data-offset-top="214" data-offset-bottom="450">
            <ul class="nav nav-silent nav-sidebar">
              

    
    
        
    
    <li >
    <a href="/guides/">Intro</a>
</li>


    
    
    <li >
    <a href="/guides/setup-couchdb.html">Setting up CouchDB</a>
</li>


    
    
    <li >
    <a href="/guides/setup-pouchdb.html">Setting up PouchDB</a>
</li>


    
    
    <li >
    <a href="/guides/databases.html">Working with databases</a>
</li>


    
    
    <li >
    <a href="/guides/documents.html">Working with documents</a>
</li>


    
    
    <li >
    <a href="/guides/async-code.html">Asynchronous code</a>
</li>


    
    
        
    
    <li >
    <a href="/guides/updating-deleting.html">Updating/deleting documents</a>
</li>


    
    
    <li >
    <a href="/guides/bulk-operations.html">Bulk operations</a>
</li>


    
    
    <li >
    <a href="/guides/attachments.html">Working with attachments</a>
</li>


    
    
    <li >
    <a href="/guides/replication.html">Replication</a>
</li>


    
    
    <li >
    <a href="/guides/conflicts.html">Conflicts</a>
</li>


    
    
    <li >
    <a href="/guides/changes.html">Changes feed</a>
</li>


    
    
    <li  class="active" >
    <a href="/guides/queries.html">Map/reduce queries</a>
</li>


    
    
    <li >
    <a href="/guides/compact-and-destroy.html">Compacting and destroying</a>
</li>


    
    
    <li >
    <a href="/guides/local-documents.html">Local documents</a>
</li>



            </ul>
          </div>
        </div>

        <div class="col-sm-9">
          <p>Map/reduce queries, also known as <em>secondary indexes</em>, are one of the most powerful features in PouchDB. However, they can be quite tricky to use, so this guide is designed to dispell some of the mysteries around them.</p>

<div class="alert alert-warning">


<div class="alert-text">


Many developers make the mistake of using the <code>query()</code> API when the more performant <code>allDocs()</code> API would be a better fit.
<p/>&nbsp;<p/>
Before you solve a problem with secondary indexes, you should ask yourself: can I solve this with the <em>primary index</em> (<code>_id</code>) instead?

</div></div>

<h2>Mappin&#39; and reducin&#39;</h2>

<p>The PouchDB <code>query()</code> API (which corresponds to the <code>_view</code> API in CouchDB) has two modes: temporary queries and persistent queries.</p>

<h3>Temporary queries</h3>

<p><strong>Temporary queries</strong> are very slow, and we only recommend them for quick debugging during development. To use a temporary query, you simply pass in a <code>map</code> function:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">db</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">doc</span><span class="p">,</span> <span class="nx">emit</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">emit</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">},</span> <span class="p">{</span><span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// found docs with name === &#39;foo&#39;</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handle any errors</span>
<span class="p">});</span>
</code></pre></div>
<p>In the above example, the <code>result</code> object will contain all documents where the <code>name</code> attribute is equal to <code>&#39;foo&#39;</code>.</p>

<div class="alert alert-info">


<div class="alert-text">


The <code>emit</code> pattern is part of the standard <a href='http://couchdb.readthedocs.org/en/latest/couchapp/views/intro.html'>CouchDB map/reduce API</a>.  What the function basically says is, "for each document, emit <code>doc.name</code> as a key."

</div></div>

<h3>Persistent queries</h3>

<p><strong>Persistent queries</strong> are much faster, and are the intended way to use the <code>query()</code> API in your production apps. To use persistent queries, there are two steps.</p>

<p>First, you create a <strong>design document</strong>, which describes the <code>map</code> function you would like to use:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// document that tells PouchDB/CouchDB</span>
<span class="c1">// to build up an index on doc.name</span>
<span class="kd">var</span> <span class="nx">ddoc</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">_id</span><span class="o">:</span> <span class="s1">&#39;_design/my_index&#39;</span><span class="p">,</span>
  <span class="nx">views</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">by_name</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">map</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">doc</span><span class="p">)</span> <span class="p">{</span> <span class="nx">emit</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="p">}.</span><span class="nx">toString</span><span class="p">()</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="c1">// save it</span>
<span class="nx">pouch</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">ddoc</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="c1">// success!</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// some error (maybe a 409, because it already exists?)</span>
<span class="p">});</span>
</code></pre></div>
<div class="alert alert-info">


<div class="alert-text">


The <code>.toString()</code> at the end of the map function is necessary to prep the
object for becoming valid JSON.

</div></div>

<p>Then you actually query it, by using the name you gave the design document when you saved it:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">db</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s1">&#39;my_index/by_name&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// got the query results</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// some error</span>
<span class="p">});</span>
</code></pre></div>
<p>Note that, the first time you query, it will be quite slow because the index isn&#39;t
built until you query it. To get around this, you can do an empty query to kick
off a new build:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">db</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s1">&#39;my_index/by_name&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">limit</span><span class="o">:</span> <span class="mi">0</span> <span class="c1">// don&#39;t return any results</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// index was built!</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// some error</span>
<span class="p">});</span>
</code></pre></div>
<p>After this, your queries will be much faster.</p>

<div class="alert alert-info">


<div class="alert-text">


CouchDB builds indexes in exactly the same way as PouchDB. So you may want to familiarize yourself with the <a href='/api.html#query_database'>"stale" option</a> in order to get the best possible performance for your app.

</div></div>

<h2>More about map/reduce</h2>

<p>That was a fairly whirlwind tour of the <code>query()</code> API, so let&#39;s get into more detail about how to write your map/reduce functions.</p>

<h4>Indexes in SQL databases</h4>

<p>Quick refresher on how indexes work: in relational databases like MySQL and PostgreSQL, you can usually query whatever field you want:</p>
<div class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">pokemon</span> <span class="k">WHERE</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Pikachu&#39;</span><span class="p">;</span>
</code></pre></div>
<p>But if you don&#39;t want your performance to be terrible, you first add an index:</p>
<div class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">pokemon</span> <span class="k">ADD</span> <span class="k">INDEX</span> <span class="n">myIndex</span> <span class="k">ON</span> <span class="p">(</span><span class="n">name</span><span class="p">);</span>
</code></pre></div>
<p>The job of the index is to ensure the field is stored in a B-tree within the database, so your queries run in <em>O(log(n))</em> time instead of <em>O(n)</em> time.</p>

<h4>Indexes in NoSQL databases</h4>

<p>All of the above is also true in document stores like CouchDB and MongoDB, but conceptually it&#39;s a little different. By default, documents are assumed to be schemaless blobs with one primary key (called <code>_id</code> in both Mongo and Couch), and any other keys need to be specified separately.  The concepts are largely the same; it&#39;s mostly just the vocabulary that&#39;s different.</p>

<p>In CouchDB, queries are called <em>map/reduce functions</em>.  This is because, like most NoSQL databases, CouchDB is designed to scale well across multiple computers, and to perform efficient query operations in parallel. Basically, the idea is that you divide your query into a <em>map</em> function and a <em>reduce</em> function, each of which may be executed in parallel in a multi-node cluster.</p>

<h4>Map functions</h4>

<p>It may sound daunting at first, but in the simplest (and most common) case, you only need the <em>map</em> function.  A basic map function might look like this:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">myMapFunction</span><span class="p">(</span><span class="nx">doc</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">emit</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>This is functionally equivalent to the SQL index given above.  What it essentially says is: &quot;for each document in the database, emit its name as a key.&quot;</p>

<p>And since it&#39;s just JavaScript, you&#39;re allowed to get as fancy as you want here:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">myMapFunction</span><span class="p">(</span><span class="nx">doc</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;pokemon&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="s1">&#39;Pikachu&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;Pika pi!&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">emit</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Then you can query it:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// find pokemon with name === &#39;Pika pi!&#39;</span>
<span class="nx">pouch</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">myMapFunction</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">key</span>          <span class="o">:</span> <span class="s1">&#39;Pika pi!&#39;</span><span class="p">,</span> 
  <span class="nx">include_docs</span> <span class="o">:</span> <span class="kc">true</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handle result</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handle errors</span>
<span class="p">});</span>

<span class="c1">// find the first 5 pokemon whose name starts with &#39;P&#39;</span>
<span class="nx">pouch</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">myMapFunction</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">startkey</span>     <span class="o">:</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> 
  <span class="nx">endkey</span>       <span class="o">:</span> <span class="s1">&#39;P\uffff&#39;</span><span class="p">,</span> 
  <span class="nx">limit</span>        <span class="o">:</span> <span class="mi">5</span><span class="p">,</span> 
  <span class="nx">include_docs</span> <span class="o">:</span> <span class="kc">true</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handle result</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handle errors</span>
<span class="p">});</span>
</code></pre></div>
<div class="alert alert-info">


<div class="alert-text">


The pagination options for <code>query()</code> &ndash; i.e., <code>startkey</code>/<code>endkey</code>/<code>key</code>/<code>keys</code>/<code>skip</code>/<code>limit</code>/<code>descending</code> &ndash; are exactly the same as with <code>allDocs()</code>. For a guide to pagination, read the <a href="/guides/bulk-operations.html">Bulk operations guide</a> or <a href='http://pouchdb.com/2014/04/14/pagination-strategies-with-pouchdb.html'>Pagination strategies with PouchDB</a>.

</div></div>

<h4>Reduce functions</h4>

<p>As for <em>reduce</em> functions, there are a few handy built-ins that do aggregate operations (<code>&#39;_sum&#39;</code>, <code>&#39;_count&#39;</code>, and <code>&#39;_stats&#39;</code>), and you can typically steer clear of trying to write your own:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// emit the first letter of each pokemon&#39;s name</span>
<span class="kd">var</span> <span class="nx">myMapReduceFun</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">map</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">doc</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">emit</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
  <span class="p">},</span>
  <span class="nx">reduce</span><span class="o">:</span> <span class="s1">&#39;_count&#39;</span>
<span class="p">};</span>
<span class="c1">// count the pokemon whose names start with &#39;P&#39;</span>
<span class="nx">pouch</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">myMapReduceFun</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="nx">reduce</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handle result</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// handle errors</span>
<span class="p">});</span>
</code></pre></div>
<p>If you&#39;re adventurous, though, you should check out the <a href="http://couchdb.readthedocs.org/en/latest/couchapp/views/intro.html">CouchDB documentation</a> or the <a href="http://pouchdb.com/api.html#query_database">PouchDB documentation</a> for details on reduce functions.</p>

<h2>More about map/reduce</h2>

<p>The map/reduce API is complex. Part of this problem will be resolved when the more developer-friendly <a href="http://docs.cloudant.com/api/cloudant-query.html">Cloudant query language</a> is released in CouchDB 2.0, and the equivalent <a href="https://github.com/nolanlawson/pouchdb-find">pouchdb-find plugin</a> is finished.</p>

<div class="alert alert-warning">


<div class="alert-text">


<p><a href="https://github.com/nolanlawson/pouchdb-find">pouchdb-find</a> is in beta, but you may find it is already sufficient for simple queries. Eventually it will replace map/reduce as PouchDB’s “flagship” query engine.</p>

</div></div>

<p>In the meantime, there are a few tricks you can use to avoid unnecessarily complicating your codebase:</p>

<ol>
<li>Avoid the <code>query()</code> API altogether if you can. You&#39;d be amazed how much you can do with just <code>allDocs()</code>. (In fact, under the hood, the <code>query()</code> API is simply implemented on top of <code>allDocs()</code>!)</li>
<li>If your data is highly relational, try the <a href="https://github.com/nolanlawson/relational-pouch">relational-pouch</a> plugin.</li>
<li>Read the <a href="/2014/06/17/12-pro-tips-for-better-code-with-pouchdb.html">12 tips for better code with PouchDB</a>.</li>
</ol>

<h2>Related API documentation</h2>

<ul>
<li><a href="/api.html#query_database">query()</a></li>
<li><a href="/api.html#view_cleanup">viewCleanup()</a></li>
</ul>

<h2>Next</h2>

<p>Now that we&#39;ve learned how to map reduce, map reuse, and map recycle, let&#39;s move on to <code>destroy()</code> and <code>compact()</code>.</p>




    

    

    

    

    

    

    

    

    

    

    

    

    
        
        

        <ul class="pager">
            
                <li class="previous">
                    <a href="/guides/changes.html">&larr; Changes feed</a>
                </li>
            
            
                <li class="next">
                    <a href="/guides/compact-and-destroy.html">Compacting and destroying &rarr;</a>
                </li>
            
        </ul>
    

    

    


        <div>

    </div>

  </div>

</article>


    <div class="icons">

      <div class="container">

        <div class="row">

          <div class='col-xs-4 col-md-offset-0 col-md-2'>
            <a href='https://twitter.com/pouchdb' target='_blank'>
              <div class="icon icon-twitter"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://github.com/rvagg/node-levelup' target='_blank'>
              <div class="icon icon-leveldb"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://github.com/pouchdb/pouchdb' target='_blank'>
              <div class="icon icon-github"></div>
            </a>
            </div>

          <div class='col-xs-4 col-md-offset-0 col-md-2'>
            <a href='https://travis-ci.org/pouchdb/pouchdb' target='_blank'>
              <div class="icon icon-travis"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='http://couchdb.apache.org/' target='_blank'>
              <div class="icon icon-couchdb"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://saucelabs.com' target='_blank'>
              <div class="icon icon-saucelabs"></div>
            </a>
          </div>

        </div>

      </div>

    </div>

    <footer class="footer">

      <div class="container">

        <div class="row">

          <div class='col-sm-3'>
            <h3 class="nav-head">Learn</h3>
            <ul class='nav nav-silent'>
              <li><a href="/getting-started.html">Getting Started</a></li>
              <li><a href="/api.html">API Guide</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/wiki">Wiki</a></li>
            </ul>
          </div>

          <div class='col-sm-3'>
            <h3 class="nav-head">Discuss</h3>
            <ul class='nav nav-silent'>
              <li><a href="https://groups.google.com/forum/#!forum/pouchdb">Mailing List</a></li>
              <li><a href="irc://freenode.net/#pouchdb">IRC</a></li>
              <li><a href="http://twitter.com/pouchdb">Twitter</a></li>
              <li><a href="http://stackoverflow.com/questions/tagged/pouchdb">StackOverflow</a></li>
            </ul>
          </div>

          <div class='col-sm-3'>
            <h3 class="nav-head">Contribute</h3>
            <ul class='nav nav-silent'>
              <li><a href="https://github.com/pouchdb/pouchdb/blob/master/CONTRIBUTING.md">Contributing</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb">Source</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/issues">Issues</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/blob/master/LICENSE">Apache License</a></li>
            </ul>
          </div>

        </div>

      </div>

    </footer>
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/js/code.min.js"></script>
    <script type="text/javascript" src="http://cdn.jsdelivr.net/pouchdb/latest/pouchdb.min.js"></script>
    <script type="text/javascript">
      function onCached(e) {
        if (applicationCache.status === 1) {
          giveIntro();
        }
      }
      
      function giveIntro() {
        console.log('%c\n..............................................................................\n.?I...........~+: ............................................................\n.???.........++++.............................................................\n:????+......+++++.............................................................\n.??????+++++++++:.................................H...........D..B............\n...????++++++++...................................H...........D..B............\n...=????++++++.......PPPPP...OOOO...U....U...CCCC.HHHHH...DDDDD..BBBBB........\n...?????+++++++......P...:P.OO...O..U....U..C.....H...H..D....D..B....B.......\n..???????+++++++ ....P. ..P.O....O..U....U.CC.....H...H..D....D..B....B.......\n..?????????????......P...:P.OO...O..U....U..C.....H...H..D....D..B....B.......\n...I??????????~......PPPPP...OOOO...=UUUUU...CCCC.H...H...DDDDD..BBBBB........\n....?????????~.......P.... ...................................................\n.....???????+........P........................................................\n......??????..................................................................\n..............................................................................\n..............................................................................\n..............................................................................', 'color: #4ec084');
        console.log('%c\nPouchDB itself is hosted at PouchDB.com!\nTo get started, try typing:\nvar db = new PouchDB(\'mydb\');', 'color: #4ec084');
      }
      applicationCache.addEventListener('cached', onCached, false);
      applicationCache.addEventListener('noupdate', giveIntro, false);
    </script>
  </body>
</html>

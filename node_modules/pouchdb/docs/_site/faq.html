<!DOCTYPE html>
<html lang="en" manifest="/manifest.appcache">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FAQ</title>
    <link rel="alternate" title="PouchDB, the JavaScript Database that Syncs!" type="application/rss+xml" href="/feed.xml">
    <link rel="stylesheet" href="/static/css/pouchdb.css" />
    <meta name="theme-color" content="#6ccb99">
    <meta name="msapplication-TileColor" content="#6ccb99">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-42479701-1']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700|Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon"/>
  </head>

  <body data-spy="scroll" data-target="#sidebar">

    <header>

      <a href="https://github.com/pouchdb/pouchdb" target="_blank">
         <div class="ribbon">GitHub</div>
      </a>

      <div class="container">

        <a class="logo" href="/">
          <div class="logo-img"></div>
          <span class='logo-type'>PouchDB</span>
        </a>

        <ul class='nav nav-header nav-pills'>
          <li>
            <a class='btn btn-link btn-lg' href="/blog/">Blog</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/guides/">Guides</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/api.html">API</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/learn.html">Learn</a>
          </li>
          <li>
            <a
                class='btn btn-primary btn-lg'
                href="https://github.com/pouchdb/pouchdb/releases/download/3.5.0/pouchdb-3.5.0.min.js"
            >
                Download <strong>v3.5.0</strong>
            </a>
          </li>
        </ul>

      </div>

    </header>
    
      <div class="page-head">

        <div class="container">

          <h1>FAQ</h1>
          

        </div>

      </div>
    


    <article>
  <div class="container">
    <div class="row">
        <div id="sidebar" class="col-sm-3">
          <div data-spy="affix" data-offset-top="214" data-offset-bottom="450">
            <ul class="nav nav-silent nav-sidebar">
              <li >
    <a href="/learn.html">About PouchDB</a>
</li>

<li >
    <a href="/users.html">Who's using PouchDB?</a>
</li>

<li >
    <a href="/getting-started.html">Get Started Guide</a>
</li>

<li >
    <a href="/api.html">API</a>
</li>

<li >
    <a href="/adapters.html">Adapters</a>
</li>

<li >
    <a href="/external.html">Plugins</a>
</li>

<li  class="active" >
    <a href="/faq.html">FAQ</a>
</li>

<li >
    <a href="/errors.html">Common Errors</a>
</li>


            </ul>
          </div>
        </div>

        <div class="col-sm-9">
          <div id='sync_non_couchdb'></div>

<p><a class='h3 anchor' href='#sync_non_couchdb' name='sync_non_couchdb'>Can PouchDB sync with MongoDB/MySQL/my current non-CouchDB database?</a></p>

<p>No, your backend needs to speak the <a href="http://couchdb.readthedocs.org/en/latest/replication/protocol.html">CouchDB replication protocol</a>. The magic of PouchDB &lt;&ndash;&gt; CouchDB sync comes from this design, which in particular requires all documents to be versioned with the <code>_rev</code> marker. This allows PouchDB and CouchDB to <a href="http://writing.jan.io/2013/12/19/understanding-couchdb-conflicts.html">elegantly handle conflicts</a>, among other benefits.</p>

<div id='what_can_pouchdb_sync_with'></div>

<p><a class='h3 anchor' href='#what_can_pouchdb_sync_with' name='what_can_pouchdb_sync_with'>What can PouchDB sync with?</a></p>

<p>There are a number of databases that implement a CouchDB-like protocol, and PouchDB should be able to replicate with them. They include:</p>

<ul>
<li><a href="http://couchdb.apache.org/">CouchDB</a> &ndash; CouchDB is our primary reference database and is used for automated testing.</li>
<li><a href="https://cloudant.com/">Cloudant</a> &ndash; A cluster-aware fork of CouchDB.</li>
<li><a href="http://www.couchbase.com/communities/couchbase-sync-gateway">Couchbase Sync Gateway</a> &ndash; A sync gateway for Couchbase.</li>
<li><a href="http://iriscouch.com/">IrisCouch</a> &ndash; CouchDB in the cloud.</li>
<li><a href="https://github.com/pouchdb/pouchdb-server">PouchDB Server</a> &ndash; An HTTP API written on top of PouchDB. Additionally, it supports alternate backends like in-memory, Redis, Riak and MySQL via <a href="https://github.com/rvagg/node-levelup/wiki/Modules#storage">the LevelUP ecosystem</a>. Note that your application must use the PouchDB API rather than directly modifying the database, however.</li>
</ul>

<div id='native_support'></div>

<p><a class='h3 anchor' href='#native_support' name='native_support'>The web is nice, but I want to build a native app?</a></p>

<p>PouchDB is one of multiple projects that implement the CouchDB protocol, and these can all be used to sync the same set of data.</p>

<p>For desktop applications, you may want to look into embedding CouchDB (or <a href="https://github.com/refuge/rcouch">rcouch</a>). PouchDB also works great with web-based frameworks like <a href="https://github.com/rogerwang/node-webkit">node-webkit</a>, <a href="https://developer.chrome.com/apps/about_apps">Chrome apps</a>, <a href="https://github.com/atom/atom-shell">Atom Shell</a> and <a href="http://try.buildwinjs.com/#listview">WinJS</a>.</p>

<p>For mobile applications, you can use PouchDB within <a href="http://phonegap.com/">PhoneGap</a>/<a href="http://cordova.apache.org/">Cordova</a> (optionally using the <a href="https://github.com/brodysoft/Cordova-SQLitePlugin">SQLite Plugin</a>), or there are several native libraries:</p>

<p><strong>iOS</strong>:</p>

<ul>
<li><a href="https://github.com/couchbase/couchbase-lite-ios">Couchbase Lite for iOS</a></li>
<li><a href="https://github.com/cloudant/CDTDatastore">Cloudant Sync for iOS</a></li>
</ul>

<p><strong>Android</strong>:</p>

<ul>
<li><a href="https://github.com/couchbase/couchbase-lite-android">Couchbase Lite for Android</a></li>
<li><a href="https://github.com/cloudant/sync-android">Cloudant Sync for Android</a></li>
</ul>

<div id='data_limits'></div>

<p><a class='h3 anchor' href='#data_limits' name='data_limits'>How much data can PouchDB store?</a></p>

<p>In <strong>Firefox</strong>, PouchDB uses IndexedDB. Though Firefox has no upper limit besides disk space, if your application wishes to store more than 50MB locally, Firefox will <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API">ask the user</a> using a non-modal dialog to confirm that this is okay.</p>

<p><strong>Chrome</strong> also uses IndexedDB, and it determines the amount of storage available on the user&#8217;s hard drive and uses that <a href="https://developers.google.com/chrome/whitepapers/storage#temporary">to calculate a limit</a>.</p>

<p><strong>Opera 15+</strong> shares a codebase with Chromium/Blink, and behaves similarly.</p>

<p><strong>Internet Exporer 10+</strong> has a hard 250MB limit, and will prompt the user with a non-modal dialog at 10MB.</p>

<p><strong>Mobile Safari</strong> on iOS has a hard 50MB limit, whereas <strong>desktop Safari</strong> has no limit. Both will prompt the user with a modal dialog if an application requests more than 5MB of data, at increments of 5MB, 10MB, 50MB, 100MB, etc. Some versions of Safari have a bug where they only let you request additional storage once, so you&#39;ll need to request the desired space up-front. PouchDB allows you to do this using <a href="http://pouchdb.com/api.html#create_database">the <code>size</code> option</a>.</p>

<p><strong>Android</strong> works the same as Chrome as of 4.4+ (IndexedDB), while older versions can store up to 200MB (WebSQL). </p>

<p>In <a href="http://phonegap.com/">PhoneGap</a>/<a href="http://cordova.apache.org/">Cordova</a>, you can have unlimited data on both iOS and Android by using the <a href="https://github.com/brodysoft/Cordova-SQLitePlugin">SQLite Plugin</a>.</p>

<p>For more information, see <a href="http://www.html5rocks.com/en/tutorials/offline/quota-research/">Working with quota on mobile browsers</a>.</p>

<div id='data_types'></div>

<p><a class='h3 anchor' href='#data_types' name='data_types'>What data types does PouchDB support?</a></p>

<p>PouchDB has two types of data: documents and attachments.</p>

<h4>Documents</h4>

<p>As in CouchDB, the documents you store must be serializable as JSON. Modifying the <code>Object</code> prototype or storing classes is not supported.</p>

<p>IndexedDB will actually support non-JSON data (e.g. <code>Date</code>s aren&#39;t stringified), but you should not rely on this, because CouchDB, LevelDB, and Web SQL do not behave the same.</p>

<h4>Attachments</h4>

<p>PouchDB also supports attachments, which are the most efficient way to store binary data. Attachments may either be supplied as base64-encoded strings or as <code>Blob</code> objects.</p>

<p>Different backends have different strategies for storing binary data, which may affect the overall database size. Attachment stubs have a <code>length</code> property that describes the number of bytes in the <code>Blob</code> object, but under the hood, it may actually take up more space than that.</p>

<p>PouchDB&#39;s strategies are:</p>

<ul>
<li><strong>Blob</strong>: data is stored in a true binary format. The most efficient method.</li>
<li><strong>UTF-16 Blob</strong>: blobs are coerced to UTF-16, so they takes up 2x the normal space.</li>
<li><strong>Base-64</strong>: data is stored as a base-64-encoded string. The least efficient method.</li>
</ul>

<p>Here are the strategies used by various browsers in PouchDB:</p>

<div class="table-responsive">
<table class="table">
<tr>
    <td></td>
    <th><img src="static/img/browser-logos/internet-explorer_32x32.png" alt="IE"/></th>
    <th><img src="static/img/browser-logos/firefox_32x32.png" alt="Firefox"/></th>
    <th><img src="static/img/browser-logos/chrome_32x32.png" alt="Chrome"/></th>
    <th><img src="static/img/browser-logos/chrome_32x32.png" alt="Chrome"/></th>
    <th><img src="static/img/browser-logos/safari_32x32.png" alt="Safari"/></th>
    <th><img src="static/img/browser-logos/safari_32x32.png" alt="Safari"/></th>
</tr>
<tr>
    <th>Adapter</th>
    <th>IE (10+)</th>
    <th>Firefox</th>
    <th>Chrome < 43,<br/>Android</th>
    <th>Chrome >= 43</th>
    <th>Safari < 7.1,<br/>iOS < 8</th>  
    <th>Safari >= 7.1,<br/>iOS >= 8</th>
</tr>
<tr>
    <td>IndexedDB</td>
    <td>Blob</td>
    <td>Blob</td>
    <td>Base-64</td>
    <td>Blob</td>
    <td></td>
    <td></td>
</tr>
<tr>
    <td>WebSQL</td>
    <td></td>
    <td></td>
    <td>Blob</td>
    <td>Blob</td>
    <td>UTF-16 Blob</td>
    <td>Blob</td>
</tr>
</table>
</div>

<p>Attachments are deduplicated based on their MD5 sum, so duplicate attachments won&#39;t take up extra space. </p>

<p>To truly remove an attachment from the data store, you will need to use <a href="http://pouchdb.com/api.html#compaction">compaction</a> to remove document revisions that reference that attachment. </p>

<div id='safe_to_upgrade'></div>

<p><a class='h3 anchor' href='#safe_to_upgrade' name='safe_to_upgrade'>Is it safe to upgrade PouchDB?</a></p>

<p>Since v1.0.0, PouchDB has supported automatic schema migrations. This means that if you open a database that was built with an older version of PouchDB, the newer version will run all the steps necessary to get the old database up to date. We have extensive tests in place to guarantee that this feature works correctly.</p>

<p>Even in the case of a major version release, PouchDB still performs the schema migrations. So for instance, you can create a database with PouchDB 1.0.0 and it will still work after you open it in 3.0.0.</p>

<p>Once a database is migrated, however, you can no longer open it with an older version of PouchDB. So if an update contains a migration, it will be clearly marked in the release notes.</p>

<div id='couchdb_differences'></div>

<p><a class='h3 anchor' href='#couchdb_differences' name='couchdb_differences'>How is PouchDB different from CouchDB?</a></p>

<p>PouchDB is also a CouchDB client, and you should be able to switch between a local database or an online CouchDB instance without changing any of your application&#39;s code.</p>

<p>However, there are some minor differences to note:</p>

<p><strong>View Collation</strong> - CouchDB uses ICU to order keys in a view query; in PouchDB they are ASCII ordered.</p>

<p><strong>View Offset</strong> - CouchDB returns an <code>offset</code> property in the view results. In PouchDB, <code>offset</code> just mirrors the <code>skip</code> parameter rather than returning a true offset.</p>

        <div>

    </div>

  </div>

</article>


    <div class="icons">

      <div class="container">

        <div class="row">

          <div class='col-xs-4 col-md-offset-0 col-md-2'>
            <a href='https://twitter.com/pouchdb' target='_blank'>
              <div class="icon icon-twitter"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://github.com/rvagg/node-levelup' target='_blank'>
              <div class="icon icon-leveldb"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://github.com/pouchdb/pouchdb' target='_blank'>
              <div class="icon icon-github"></div>
            </a>
            </div>

          <div class='col-xs-4 col-md-offset-0 col-md-2'>
            <a href='https://travis-ci.org/pouchdb/pouchdb' target='_blank'>
              <div class="icon icon-travis"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='http://couchdb.apache.org/' target='_blank'>
              <div class="icon icon-couchdb"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://saucelabs.com' target='_blank'>
              <div class="icon icon-saucelabs"></div>
            </a>
          </div>

        </div>

      </div>

    </div>

    <footer class="footer">

      <div class="container">

        <div class="row">

          <div class='col-sm-3'>
            <h3 class="nav-head">Learn</h3>
            <ul class='nav nav-silent'>
              <li><a href="/getting-started.html">Getting Started</a></li>
              <li><a href="/api.html">API Guide</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/wiki">Wiki</a></li>
            </ul>
          </div>

          <div class='col-sm-3'>
            <h3 class="nav-head">Discuss</h3>
            <ul class='nav nav-silent'>
              <li><a href="https://groups.google.com/forum/#!forum/pouchdb">Mailing List</a></li>
              <li><a href="irc://freenode.net/#pouchdb">IRC</a></li>
              <li><a href="http://twitter.com/pouchdb">Twitter</a></li>
              <li><a href="http://stackoverflow.com/questions/tagged/pouchdb">StackOverflow</a></li>
            </ul>
          </div>

          <div class='col-sm-3'>
            <h3 class="nav-head">Contribute</h3>
            <ul class='nav nav-silent'>
              <li><a href="https://github.com/pouchdb/pouchdb/blob/master/CONTRIBUTING.md">Contributing</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb">Source</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/issues">Issues</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/blob/master/LICENSE">Apache License</a></li>
            </ul>
          </div>

        </div>

      </div>

    </footer>
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/js/code.min.js"></script>
    <script type="text/javascript" src="http://cdn.jsdelivr.net/pouchdb/latest/pouchdb.min.js"></script>
    <script type="text/javascript">
      function onCached(e) {
        if (applicationCache.status === 1) {
          giveIntro();
        }
      }
      
      function giveIntro() {
        console.log('%c\n..............................................................................\n.?I...........~+: ............................................................\n.???.........++++.............................................................\n:????+......+++++.............................................................\n.??????+++++++++:.................................H...........D..B............\n...????++++++++...................................H...........D..B............\n...=????++++++.......PPPPP...OOOO...U....U...CCCC.HHHHH...DDDDD..BBBBB........\n...?????+++++++......P...:P.OO...O..U....U..C.....H...H..D....D..B....B.......\n..???????+++++++ ....P. ..P.O....O..U....U.CC.....H...H..D....D..B....B.......\n..?????????????......P...:P.OO...O..U....U..C.....H...H..D....D..B....B.......\n...I??????????~......PPPPP...OOOO...=UUUUU...CCCC.H...H...DDDDD..BBBBB........\n....?????????~.......P.... ...................................................\n.....???????+........P........................................................\n......??????..................................................................\n..............................................................................\n..............................................................................\n..............................................................................', 'color: #4ec084');
        console.log('%c\nPouchDB itself is hosted at PouchDB.com!\nTo get started, try typing:\nvar db = new PouchDB(\'mydb\');', 'color: #4ec084');
      }
      applicationCache.addEventListener('cached', onCached, false);
      applicationCache.addEventListener('noupdate', giveIntro, false);
    </script>
  </body>
</html>

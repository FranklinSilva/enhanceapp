<!DOCTYPE html>
<html lang="en" manifest="/manifest.appcache">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PouchDB 3.3.0&#58; Fix Up, Look Sharp</title>
    <link rel="alternate" title="PouchDB, the JavaScript Database that Syncs!" type="application/rss+xml" href="/feed.xml">
    <link rel="stylesheet" href="/static/css/pouchdb.css" />
    <meta name="theme-color" content="#6ccb99">
    <meta name="msapplication-TileColor" content="#6ccb99">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-42479701-1']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <link href='http://fonts.googleapis.com/css?family=Lato:400,700|Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon"/>
  </head>

  <body data-spy="scroll" data-target="#sidebar">

    <header>

      <a href="https://github.com/pouchdb/pouchdb" target="_blank">
         <div class="ribbon">GitHub</div>
      </a>

      <div class="container">

        <a class="logo" href="/">
          <div class="logo-img"></div>
          <span class='logo-type'>PouchDB</span>
        </a>

        <ul class='nav nav-header nav-pills'>
          <li>
            <a class='btn btn-link btn-lg' href="/blog/">Blog</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/guides/">Guides</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/api.html">API</a>
          </li>
          <li>
            <a class='btn btn-link btn-lg' href="/learn.html">Learn</a>
          </li>
          <li>
            <a
                class='btn btn-primary btn-lg'
                href="https://github.com/pouchdb/pouchdb/releases/download/3.5.0/pouchdb-3.5.0.min.js"
            >
                Download <strong>v3.5.0</strong>
            </a>
          </li>
        </ul>

      </div>

    </header>
    
      <div class="page-head">

        <div class="container">

          <h1>PouchDB 3.3.0&#58; Fix Up, Look Sharp</h1>
          

        </div>

      </div>
    


    <article class='container'>
  <div class='row'>
    <div class='col-md-offset-1 col-md-10'>
      
  







  

  

  
    
      
    
    
      
    
  

  

  




<div class="post">
  <div class="media">
    <a class="pull-left" href="#">
    <img class="media-object img-circle img-responsive" src='https://gravatar.com/avatar/030451d8cfc268d666bae9a7fe8d10ec' alt='Dale Harvey'>
    </a>
    <div class="media-body">
    <p>
      <strong>By:</strong> <a href="https://twitter.com/daleharvey">Dale Harvey</a><br>
      <strong>Published:</strong> 03 February 2015<br>
      
    </p>
    </div>
  </div>
</div>


      <p>A new month means a new PouchDB release. Over the last month we have been looking around the rough edges and cleaning things up or chopping them off along with the usual slew of bugfixes and a lot of great news.</p>

<h3>PouchDB-Inspector</h3>

<p><a href="https://twitter.com/commandoline">Marten de Vries</a> has taken the awesome work done by the CouchDB Fauxton team and wrapped Fauxton up in Firefox and Chrome plugins so you can inspect your local data in each browser.</p>

<ul>
<li><a href="https://addons.mozilla.org/firefox/addon/pouchdb-inspector/">Install as Firefox Addon</a> - <a href="https://github.com/marten-de-vries/pouchdb-fauxton-firefox-addon">Github</a></li>
<li><a href="https://chrome.google.com/webstore/detail/pouchdb-inspector/hbhhpaojmpfimakffndmpmpndcmonkfa">Install from Chrome Web Store</a> - <a href="https://github.com/marten-de-vries/pouchdb-fauxton-chrome-extension">Github</a></li>
</ul>

<h3>PouchDB-Find</h3>

<p>A few months ago Cloudant released a preview of <a href="https://github.com/cloudant/mango">Mango</a>, a MongoDB-inspired query API for Cloudant and CouchDB. The MapReduce API exposed by CouchDB has long been a source of confusion for developers, and this will hopefully provide a more natural way to query data held within CouchDB / PouchDB.</p>

<p>Nolan Lawson took on the mantle and has developed an implementation of Mango for PouchDB. It is currently in beta, and you can try it out <a href="https://github.com/nolanlawson/pouchdb-find">as a plugin</a>, try the <a href="http://nolanlawson.github.io/pouchdb-find/">live demo</a> or even test it by installing <a href="https://github.com/pouchdb/pouchdb-server">PouchDB-Server</a>.</p>

<h3>In other news</h3>

<p>The excellent team at <a href="https://www.cozycloud.cc/">CozyCloud</a> have been working on a web-based email application that you can run on a personal server based on PouchDB and ReactJS @ <a href="https://www.npmjs.com/package/emails">https://www.npmjs.com/package/emails</a>. Yours truly will be speaking about PouchDB and the offline web at <a href="https://www.webrebels.org/speakers#daleharvey">Web Rebels in Oslo</a> and the <a href="http://hood.ie/">Hood.ie</a> team are working on 1. <a href="https://github.com/hoodiehq/wip-hoodie-store-on-pouchdb">migrating their data storage to PouchDB</a> and 2. <a href="https://github.com/gr2m/testmate">extracting some of PouchDB&#39;s test setup to be reusable</a>. Contributions and discussion always welcome.</p>

<h2>Release Changes</h2>

<h3>Sync Events - <a href="https://github.com/pouchdb/pouchdb/issues/3155">#3155</a></h3>

<p>We have introduced <a href="/api.html#replication">new events</a> to give you more information what is happening during syncing. There are now <code>active</code> and <code>paused</code> events triggered during replication and the <code>uptodate</code> event is now deprecated.</p>

<h3>Retry Replication - <a href="https://github.com/pouchdb/pouchdb/issues/966">#966</a></h3>

<p>Calvin did the base work for this a long time ago, however we now officially support a <code>retry</code> option to replication. If you do a <code>db.replicate(to, {retry: true})</code> or <code>db.sync(db, {retry: true})</code> then the replication process will not halt when you go offline, and will automatically resume when you (or your server) comes back online.</p>

<h3>Docs property in change events - <a href="https://github.com/pouchdb/pouchdb/pull/3358">#3358</a></h3>

<p>A lot of developers wanted to know what documents were being referred to when they recieved a change event. Gregor from hood.ie implemented a new <code>docs</code> property in the change event, so you know exactly what documents have changed.</p>

<h3>local_seq now deprecated - <a href="https://github.com/pouchdb/pouchdb/issues/3367">#3367</a></h3>

<p><code>local_seq</code> was a rarely used property that will be unsupported in CouchDB 2.0, so we have deprecated it and will be removed in future versions.</p>

<h3>Changelog:</h3>

<ul>
<li>We now have all tests passing against CouchDB master (<a href="https://github.com/pouchdb/pouchdb/issues/136">#136</a>)</li>
<li>Fixed return of <code>.compact</code> (<a href="https://github.com/pouchdb/pouchdb/issues/3350">#3350</a>)</li>
<li>Fix a typo in the Error constructor (<a href="https://github.com/pouchdb/pouchdb/issues/1167">#1167</a>)</li>
<li>Disabled blob support due to bugs in Chrome, so we now use base64 for attachments in Chrome (<a href="https://github.com/pouchdb/pouchdb/issues/3369">#3369</a>)</li>
<li>Fix races in <code>.destroy()</code> (<a href="https://github.com/pouchdb/mapreduce/issues/251">mapreduce/#251</a>)</li>
<li>Ensure both replications are cancelled properly during <code>.sync</code> (<a href="https://github.com/pouchdb/pouchdb/issues/3431">#3431</a>)</li>
<li>Replace ajax calls with <code>request</code> polyfill (<a href="https://github.com/pouchdb/pouchdb/issues/3200">#3200</a>)</li>
<li>Prefer readAsArrayBuffer to BinaryString (<a href="https://github.com/pouchdb/pouchdb/issues/3379">#3379</a>)</li>
<li>Get all tests green on Travis (including iPhone and IE)  (<a href="https://github.com/pouchdb/pouchdb/issues/3058">#3058</a>)</li>
<li>Map/reduce views built concurrently (<a href="https://github.com/pouchdb/mapreduce/issues/240">pouchdb/mapreduce#240</a>)</li>
<li>Quicker map/reduce view build times (<a href="https://github.com/pouchdb/mapreduce/issues/242">pouchdb/mapreduce#242</a>)</li>
</ul>

<h3>Get in touch</h3>

<p>Please <a href="https://github.com/pouchdb/pouchdb/issues">file issues</a> or <a href="https://github.com/pouchdb/pouchdb/blob/master/CONTRIBUTING.md#get-in-touch">tell us what you think</a>. And as always, a big thanks to all of our <a href="https://github.com/pouchdb/pouchdb/graphs/contributors">new and existing contributors</a>!</p>

        </div>
  </div>
</article>


    <div class="icons">

      <div class="container">

        <div class="row">

          <div class='col-xs-4 col-md-offset-0 col-md-2'>
            <a href='https://twitter.com/pouchdb' target='_blank'>
              <div class="icon icon-twitter"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://github.com/rvagg/node-levelup' target='_blank'>
              <div class="icon icon-leveldb"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://github.com/pouchdb/pouchdb' target='_blank'>
              <div class="icon icon-github"></div>
            </a>
            </div>

          <div class='col-xs-4 col-md-offset-0 col-md-2'>
            <a href='https://travis-ci.org/pouchdb/pouchdb' target='_blank'>
              <div class="icon icon-travis"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='http://couchdb.apache.org/' target='_blank'>
              <div class="icon icon-couchdb"></div>
            </a>
          </div>

          <div class='col-xs-4 col-md-2'>
            <a href='https://saucelabs.com' target='_blank'>
              <div class="icon icon-saucelabs"></div>
            </a>
          </div>

        </div>

      </div>

    </div>

    <footer class="footer">

      <div class="container">

        <div class="row">

          <div class='col-sm-3'>
            <h3 class="nav-head">Learn</h3>
            <ul class='nav nav-silent'>
              <li><a href="/getting-started.html">Getting Started</a></li>
              <li><a href="/api.html">API Guide</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/wiki">Wiki</a></li>
            </ul>
          </div>

          <div class='col-sm-3'>
            <h3 class="nav-head">Discuss</h3>
            <ul class='nav nav-silent'>
              <li><a href="https://groups.google.com/forum/#!forum/pouchdb">Mailing List</a></li>
              <li><a href="irc://freenode.net/#pouchdb">IRC</a></li>
              <li><a href="http://twitter.com/pouchdb">Twitter</a></li>
              <li><a href="http://stackoverflow.com/questions/tagged/pouchdb">StackOverflow</a></li>
            </ul>
          </div>

          <div class='col-sm-3'>
            <h3 class="nav-head">Contribute</h3>
            <ul class='nav nav-silent'>
              <li><a href="https://github.com/pouchdb/pouchdb/blob/master/CONTRIBUTING.md">Contributing</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb">Source</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/issues">Issues</a></li>
              <li><a href="https://github.com/pouchdb/pouchdb/blob/master/LICENSE">Apache License</a></li>
            </ul>
          </div>

        </div>

      </div>

    </footer>
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/js/code.min.js"></script>
    <script type="text/javascript" src="http://cdn.jsdelivr.net/pouchdb/latest/pouchdb.min.js"></script>
    <script type="text/javascript">
      function onCached(e) {
        if (applicationCache.status === 1) {
          giveIntro();
        }
      }
      
      function giveIntro() {
        console.log('%c\n..............................................................................\n.?I...........~+: ............................................................\n.???.........++++.............................................................\n:????+......+++++.............................................................\n.??????+++++++++:.................................H...........D..B............\n...????++++++++...................................H...........D..B............\n...=????++++++.......PPPPP...OOOO...U....U...CCCC.HHHHH...DDDDD..BBBBB........\n...?????+++++++......P...:P.OO...O..U....U..C.....H...H..D....D..B....B.......\n..???????+++++++ ....P. ..P.O....O..U....U.CC.....H...H..D....D..B....B.......\n..?????????????......P...:P.OO...O..U....U..C.....H...H..D....D..B....B.......\n...I??????????~......PPPPP...OOOO...=UUUUU...CCCC.H...H...DDDDD..BBBBB........\n....?????????~.......P.... ...................................................\n.....???????+........P........................................................\n......??????..................................................................\n..............................................................................\n..............................................................................\n..............................................................................', 'color: #4ec084');
        console.log('%c\nPouchDB itself is hosted at PouchDB.com!\nTo get started, try typing:\nvar db = new PouchDB(\'mydb\');', 'color: #4ec084');
      }
      applicationCache.addEventListener('cached', onCached, false);
      applicationCache.addEventListener('noupdate', giveIntro, false);
    </script>
  </body>
</html>
